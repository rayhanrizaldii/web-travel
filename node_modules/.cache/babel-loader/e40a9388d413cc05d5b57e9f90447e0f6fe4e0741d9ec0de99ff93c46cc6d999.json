{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rayha\\\\Documents\\\\kuliahh\\\\project\\\\web-travel\\\\src\\\\parts\\\\BookingForm.js\";\nimport React, { Component } from \"react\";\nimport propTypes from \"prop-types\";\nimport Button from \"elements/Button\";\nimport InputDate from \"elements/Form/InputDate\";\nimport InputNumber from \"elements/Form/InputNumber\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class BookingForm extends Component {\n  constructor(props) {\n    super(props);\n    this.updateData = e => {\n      this.setState({\n        ...this.state,\n        data: {\n          ...this.state.data,\n          [e.target.name]: e.target.value\n        }\n      });\n    };\n    this.startBooking = () => {\n      const {\n        data\n      } = this.state;\n      this.props.startBooking({\n        _id: this.props.itemDetails._id,\n        duration: data.duration,\n        date: {\n          startDate: data.date.startDate,\n          endDate: data.date.endDate\n        }\n      });\n      this.props.history.push(\"/checkout\");\n    };\n    this.state = {\n      data: {\n        duration: 1,\n        date: {\n          startDate: new Date(),\n          endDate: new Date(),\n          key: \"selection\"\n        }\n      }\n    };\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      data\n    } = this.state;\n    if (prevState.data.date !== data.date) {\n      const startDate = new Date(data.date.startDate);\n      const endDate = new Date(data.date.endDate);\n      const countDuration = new Date(endDate - startDate).getDate();\n      this.setState({\n        data: {\n          ...this.state.data,\n          duration: countDuration\n        }\n      });\n    }\n    if (prevState.data.duration !== data.duration) {\n      const startDate = new Date(data.date.startDate);\n      const endDate = new Date(startDate.setDate(startDate.getDate() + +data.duration - 1));\n      this.setState({\n        ...this.state,\n        data: {\n          ...this.state.data,\n          date: {\n            ...this.state.data.date,\n            endDate: endDate\n          }\n        }\n      });\n    }\n  }\n  render() {\n    const {\n      data\n    } = this.state;\n    const {\n      itemDetails,\n      startBooking\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bookingform card bordered\",\n      style: {\n        padding: \"60px 80px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"mb-3\",\n        children: \"Start Booking\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"h2 mb-4\",\n        children: [\"$\", itemDetails.price, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"per \", itemDetails.unit]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"duration\",\n        children: \"How long you will stay?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputNumber, {\n        max: 30,\n        suffix: \" night\",\n        isSuffixPlural: true,\n        onChange: this.updateData,\n        name: \"duration\",\n        value: data.duration\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"date\",\n        children: \"Pick a date\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputDate, {\n        onChange: this.updateData,\n        name: \"date\",\n        value: data.date\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n        style: {\n          marginBottom: 40\n        },\n        children: [\"You will pay\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"$\", itemDetails.price * data.duration, \" USD\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), \" \", \"per\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [data.duration, \" \", itemDetails.unit]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"btn\",\n        hasShadow: true,\n        isPrimary: true,\n        isBlock: true,\n        onClick: this.startBooking,\n        children: \"Continue to Book\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this);\n  }\n}\nBookingForm.propTypes = {\n  itemDetails: propTypes.object,\n  startBooking: propTypes.func\n};","map":{"version":3,"names":["React","Component","propTypes","Button","InputDate","InputNumber","jsxDEV","_jsxDEV","BookingForm","constructor","props","updateData","e","setState","state","data","target","name","value","startBooking","_id","itemDetails","duration","date","startDate","endDate","history","push","Date","key","componentDidUpdate","prevProps","prevState","countDuration","getDate","setDate","render","className","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","price","unit","htmlFor","max","suffix","isSuffixPlural","onChange","marginBottom","hasShadow","isPrimary","isBlock","onClick","object","func"],"sources":["C:/Users/rayha/Documents/kuliahh/project/web-travel/src/parts/BookingForm.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport propTypes from \"prop-types\";\r\n\r\nimport Button from \"elements/Button\";\r\nimport InputDate from \"elements/Form/InputDate\";\r\nimport InputNumber from \"elements/Form/InputNumber\";\r\n\r\nexport default class BookingForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data: {\r\n        duration: 1,\r\n        date: {\r\n          startDate: new Date(),\r\n          endDate: new Date(),\r\n          key: \"selection\",\r\n        },\r\n      },\r\n    };\r\n  }\r\n\r\n  updateData = (e) => {\r\n    this.setState({\r\n      ...this.state,\r\n      data: {\r\n        ...this.state.data,\r\n        [e.target.name]: e.target.value,\r\n      },\r\n    });\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { data } = this.state;\r\n\r\n    if (prevState.data.date !== data.date) {\r\n      const startDate = new Date(data.date.startDate);\r\n      const endDate = new Date(data.date.endDate);\r\n      const countDuration = new Date(endDate - startDate).getDate();\r\n      this.setState({\r\n        data: {\r\n          ...this.state.data,\r\n          duration: countDuration,\r\n        },\r\n      });\r\n    }\r\n\r\n    if (prevState.data.duration !== data.duration) {\r\n      const startDate = new Date(data.date.startDate);\r\n      const endDate = new Date(\r\n        startDate.setDate(startDate.getDate() + +data.duration - 1)\r\n      );\r\n      this.setState({\r\n        ...this.state,\r\n        data: {\r\n          ...this.state.data,\r\n          date: {\r\n            ...this.state.data.date,\r\n            endDate: endDate,\r\n          },\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  startBooking = () => {\r\n    const { data } = this.state;\r\n    this.props.startBooking({\r\n      _id: this.props.itemDetails._id,\r\n      duration: data.duration,\r\n      date: {\r\n        startDate: data.date.startDate,\r\n        endDate: data.date.endDate,\r\n      },\r\n    });\r\n    this.props.history.push(\"/checkout\");\r\n  };\r\n\r\n  render() {\r\n    const { data } = this.state;\r\n    const { itemDetails, startBooking } = this.props;\r\n    return (\r\n      <div\r\n        className=\"bookingform card bordered\"\r\n        style={{ padding: \"60px 80px\" }}\r\n      >\r\n        <h4 className=\"mb-3\">Start Booking</h4>\r\n        <h5 className=\"h2 mb-4\">\r\n          ${itemDetails.price} <span>per {itemDetails.unit}</span>\r\n        </h5>\r\n\r\n        <label htmlFor=\"duration\">How long you will stay?</label>\r\n        <InputNumber\r\n          max={30}\r\n          suffix={\" night\"}\r\n          isSuffixPlural\r\n          onChange={this.updateData}\r\n          name=\"duration\"\r\n          value={data.duration}\r\n        />\r\n\r\n        <label htmlFor=\"date\">Pick a date</label>\r\n        <InputDate onChange={this.updateData} name=\"date\" value={data.date} />\r\n\r\n        <h6\r\n          style={{ marginBottom: 40 }}\r\n        >\r\n          You will pay{\" \"}\r\n          <span>\r\n            ${itemDetails.price * data.duration} USD\r\n          </span>{\" \"}\r\n          per{\" \"}\r\n          <span>\r\n            {data.duration} {itemDetails.unit}\r\n          </span>\r\n        </h6>\r\n\r\n        <Button\r\n          className=\"btn\"\r\n          hasShadow\r\n          isPrimary\r\n          isBlock\r\n          onClick={this.startBooking}\r\n        >\r\n          Continue to Book\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBookingForm.propTypes = {\r\n  itemDetails: propTypes.object,\r\n  startBooking: propTypes.func,\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}